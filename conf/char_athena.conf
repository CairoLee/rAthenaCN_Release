//--------------------------------------------------------------
// rAthena 角色服务器配置文件
//--------------------------------------------------------------
// 提示: 此配置文件中, 只要是以//作为开头的行, 都是注释信息. 
// 注释信息您可以随意修改, 都不会干扰服务器的正常运行. 
//--------------------------------------------------------------

// 登录服务器、角色服务器、地图服务器之间的内部通讯账号和密码
userid: rAcn_s1
passwd: rAcn_p1

// 服务器名称, 你可以随意更换
// 提示: 请不要使用空格以及 \/:*?"<>| 这几个特殊字符
//       ... 否则可能导致公会图标无法在客户端正常显示! 
//
// 当玩家输入账号密码后, 客户端会提示选择线路, 此时会显示出这个服务器的名称
// 例如: rAthenaCN 目前在线 1 人
// 也就是说, 当您修改服务器名称时, 也会导致用户输入账号密码后, 在选择线路时看到的服务器名称不一样
server_name: rAthenaCN

// 当服务器由于某些功能, 需要私聊玩家发消息时, 会以下面设定的名义来发送
// 长度必须在4~23个字符之间
// 比如, 有个商人已经离线挂店了, 此时你去私聊这个商人, 对他发消息, 
// 那么此时系统会以这个选项配置的 Server 的名义给你发信息, 说对方不在线之类的巴拉巴拉. 
wisp_server_name: Server

// 登录服务器的IP地址
// 角色服务器会依赖这个IP地址去和登录服务器建立连接. 
// 注意: 这个选项一般用于您的程序运行于防火墙后面, 
//       或者您的机器有多张网卡的时候比较有用. 
// 提醒: 若您想启用login_ip选项的话, 记得去掉login_ip前面的注释符//, 否则
//       服务器会忽略它, 导致配了和没配一样. 
// 
// ----------------------------------
// 多线路配置方法说明
// ----------------------------------
// 如果你是开单机测试服, 或者服务器只有1个公网IP地址的话, 
// 请无视这一段说明, 避免增加理解难度
// 
// 就算你的服务器有多个IP地址, 这里也只需填写1个登录服务器的IP地址即可
// 推荐填写从角色服务器连接登录服务器时延迟(Ping值)最小的那个IP
//login_ip: 127.0.0.1

// 角色服务器会监听来自这个IP地址的网卡信息
// 注意: 该选项允许你在有多个公网网卡(也意味着有多个公网IP)的机器上, 
//       使用相同的“角色服务器端口”来开多个服. 
// 提醒: 若您想启用bind_ip选项的话, 记得去掉bind_ip前面的注释符//, 否则
//       服务器会忽略它, 导致配了和没配一样. 
//
// ----------------------------------
// 多线路配置方法说明
// ----------------------------------
// 如果你是开单机测试服, 或者服务器只有1个公网IP地址的话, 
// 请无视这一段说明, 避免增加理解难度
// 
// 如果需要多线路支持的话, 请 >>不要启用<< bind_ip 选项,
// 这样角色服务器才能接收各个公网IP地址的连接请求.
//bind_ip: 127.0.0.1

// 登录服务器的端口, 方便角色服务器和登录服务器建立连接
login_port: 6900

// 角色服务器的IP地址
// 当玩家通过登录服务器的验证之后, 会将这里设置的IP地址发送给客户端
// 客户端将会使用这里配置的IP地址来和角色服务器建立连接. 
// 若您想对外开服(而不是开单机服)的话, 请把您的公网IP地址设置到这里. 
// 提醒: 若您想启用 char_ip 选项的话, 记得去掉 char_ip 前面的注释符//, 否则
//       服务器会忽略它, 导致配了和没配一样. 
//
// ----------------------------------
// 多线路配置方法说明
// ----------------------------------
// 如果你是开单机测试服, 或者服务器只有1个公网IP地址的话, 
// 请无视这一段说明, 避免增加理解难度
// 
// 如果你的服务器拥有多个IP, 且每个IP都归属于单独的线路的话
// 可以在这里配置上你角色服务器的全部可用的IP地址
//
// 假设你的电信IP是111.111.111.111 联通IP是222.222.222.222
// 那么把这两个IP地址(支持域名, 但不推荐)用逗号分隔的方式, 填写到下面的选项中, 例如:
// 
// char_ip: 111.111.111.111,222.222.222.222
//
// 就算你的角色服务器工作在局域网或者NAT后面,
// 这里填写的地址也必须是让玩家能够直接访问到角色服务器的[公网IP]地址
// 
// 这里配置多个线路的IP地址后, 还需要在 conf/multinet_athena.conf 中
// 进行一些简单配置, 才能使多线路的支持生效.
// 
// 注意: 最多只能配置 4 个IP地址(即最多支持4个线路), 第一个IP将作为默认地址
//char_ip: 127.0.0.1

// 角色服务器端口
char_port: 6121

// 往控制台窗口(俗称:黑框)中输出内容时, 在每行信息的前面加上时间戳. 
// 最大长度不能超过20个字符. 
// 常用的格式有:
//   %I:%M:%S %p (小时:分钟:秒数 12小时制, 会携带AM或PM标记)
//   %H:%M:%S (小时:分钟:秒数, 24小时制)
//   %d/%b/%Y (日期/月份/年份)
// 更多的格式信息, 请参考C语言的strftime函数用法. 
// 
// rAthena官方默认值是 [%d/%b %H:%M] 也就是24小时制的 [日/月 时:分]
// 不过这明显不符合国人习惯, 为此rAthenaCN将其默认值改成了 [%Y/%m/%d %H:%M] 
// 
// 若想启用时间戳的话, 请将下面这一行头部的注释符//去掉
//timestamp_format: [%Y/%m/%d %H:%M] 

// 当终端被一些加载器打开从而导致输出信息被重定向时, 
// 是否也将颜色代码一同输出? 
// 
// 问: 什么是重定向? 
// 答: 原本角色服务器的信息将直接显示到自己的黑框, 不过若使用一些启动工具
//     来启动角色服务器的话, 原本应该显示到黑框的信息被显示到了启动工具里面的
//     一个列表之类, 这种情况称之为“输出信息被重定向了”! 
// 
// 问: 什么是颜色代码? 
// 答: 在我们使用黑框的过程中, 会发现类似[Status]的字是绿色的, 
//     而[Error]是红色的. 这是因为在程序往黑框输出信息时, 加入了一些
//     颜色编码, 比如若使用颜色编码“\033[1;31m”那么则表示接下来的字用红色输出
//     其实有点类似我们脚本中使用的^xxxxxx颜色代码. 
// 
// 此选项一般情况下推荐关闭
stdout_with_ansisequence: no

// 记录角色服务器黑框中产生的部分信息到/log/目录中
// 首先您要确保rAthena的目录中有一个log文件夹, 没有的话必须手动创建, 
// 否则日志文件将不会产生. 
// 1: 记录黑框中以  [Warning] 开头的警告信息
// 2: 记录黑框中以  [Error]   开头的错误信息和数据库错误信息
// 4: 记录黑框中以  [Debug]   开头的调试信息
// 例如: 想要记录[Warning]、[Error]、[Debug]开头的信息, 
//       只需要将1、2、4相加, 将 console_msg_log 设置为7即可(1+2+4=7)! 
// 
// 日志信息的记录, 并不会被 console_silent 选项影响
// 也就是说, 假如 console_msg_log 设置为 2 想记录 [Error] 信息, 而
// 在 console_silent 中设置为 16 想隐藏 [Error] 信息, 此时系统
// 将会隐藏[Error]信息, 与此同时记录[Error]信息
console_msg_log: 7

// 将角色服务器黑框中产生的要记录的信息, 写到下面指定的日志文件中
console_log_filepath: ./log/char-msg_log.log

// 选择性隐藏角色服务器黑框中显示出来的一些提示信息: 
// 1:  隐藏黑框中以  [Info]    开头的提示信息
// 2:  隐藏黑框中以  [Status]  开头的状态信息
// 4:  隐藏黑框中以  [Notice]  开头的注意信息
// 8:  隐藏黑框中以  [Warning] 开头的警告信息
// 16: 隐藏黑框中以  [Error]   开头的错误信息和数据库错误信息
// 32: 隐藏黑框中以  [Debug]   开头的调试信息
// 若您想同时隐藏多种信息, 只需要将其对应的数字相加即可
// 例如: 若您想要隐藏[Info]、[Status]、[Notice]开头的信息, 
//       那么只需要将1、2、4相加, 填写7即可(1+2+4=7)! 
console_silent: 0

// 是否启用终端指令
// 开启终端指令后, 您可以在char-server的黑框中输入命令
// 在角色服务器的黑框中输入help然后回车, 可以查看终端指令说明
// 比如输入server:reloadconf可以让角色服务器重新读取相关的配置文件
// 想要启用这个功能的话, 请将下面的值改成on即可
// 请避免在角色服务器中使用 >& 日志文件.log 这样的输出指令
console: off

// 角色服务器的类型
// 此功能现在已经没有任何副作用了. 
// 
// 当玩家输入账号密码后, 客户端会提示选择线路, 此时会显示出这个服务器的名称
// 如果您将下面的值调整为1, 表示是维护模式的话
// 那么当显示出服务器的名称时, 还会带上一个[正在维护]的名称. 
// 注意: 修改此配置后, 必须关闭并重启char-server才能生效
//       哪怕您启用了终端指令, 并使用server:reloadconf去重新加载角色服务器的配置文件
//       这个选项也是不会由于您的重载配置而生效的
// 
// 0=普通, 1=维护模式, 2=18禁, 3=收费服务器, 4=免费服务器
char_maintenance: 0

// 是否允许创建新的角色
// 设置为 1 表示允许玩家创建新角色
// 设置为 0 表示禁止创建新角色, 哪怕玩家的账号是刚注册的, 
// 在一个角色也没有的情况下, 也不能创建新角色. 
char_new: 1

// 在服务器列表中显示[新]标记
// 当玩家输入账号密码后, 客户端会提示选择线路, 此时会显示出这个服务器的名称
// 如果您将下面的值调整为1, 表示这是一个新服务器的话
// 那么当显示出服务器的名称时, 还会带上一个[新]字样的标记
char_new_display: 0

// 设置服务器的最大在线人数
// 若设置为 0 表示禁止登录, 设置为 -1 表示无登录限制
// 设置为 100 表示服务器最多只能有 100 人在线, 
// 当第101人企图登录将被拒绝
max_connect_user: -1

// 当账号的GM等级超过多少时, 可以无视最大在线人数的限制
// 或者当角色服务器处于维护模式时(char_maintenance等于1时), 也可以登录游戏. 
// 默认: -1 = 没有任何人可以无视限制 (因为不可能有GM等级是小于0的)
// 请参考: conf/groups.conf
// 实际上, rAthena的默认配置是99, 也就是说若您是GM等级为99的账号
// 那么就可以无视最大在线人数的限制, 以及维护模式也可以进入游戏. 
gm_allow_group: 99

// 每隔多少秒就保存一次公会信息? 
// 注意: 角色服务器只会保存公会信息, 
//       而角色的数据(技能信息、背包中的物品等)保存间隔是由
//       “地图服务器配置文件”中的autosave_time参数来决定的
autosave_time: 60

// 在终端(也就是黑框)中显示出角色、公会、队伍、宠物的加载和保存信息? 
save_log: yes

// 角色的出生坐标点
// 格式为: <地图名称>,<x坐标>,<y坐标>{:<地图名称>,<x坐标>,<y坐标>...}
// start_point 是复兴后的出生点
// start_point_pre 是复兴前的出生点
// 
// 如果设置的出生点地图坐标不止一组的话, 
// 那么服务器在玩家出生的时候, 会在设定的地图坐标中随机挑选一组作为玩家的出生点
//
// 随机出生点的机制, 是官方服务器为了平衡地图服务器压力而设计的机制
// 但是在私服中, 我们一般没必要启用这样的出生点负载均衡机制
//
// 在 rAthena 官方的默认值中, 为复兴前和复兴后分别设置了5组出生点, 值如下:
//start_point: iz_int,97,90:iz_int01,97,90:iz_int02,97,90:iz_int03,97,90:iz_int04,97,90
//start_point_pre: new_1-1,53,111:new_2-1,53,111:new_3-1,53,111:new_4-1,53,111:new_5-1,53,111
// 
// 但是在 rAthenCN 看来这并非是必要的, 所以 rAthenCN 的默认值将设置为只使用一组地图坐标.
// 注意: 杜兰族只有客户端版本大于等于 2015-10-01 才支持. 
//
// 在 v1.7.4 版本中, rAthena 官方已经将复兴后的出生点坐标调整为:
// start_point: iz_int,18,26:iz_int01,18,26:iz_int02,18,26:iz_int03,18,26:iz_int04,18,26
// 请根据你客户端地图适当进行一些调整选择, 目前 rAthenaCN 继续使用老的出生点坐标
start_point: iz_int,97,90
start_point_pre: new_1-1,53,111
start_point_doram: lasa_fild01,48,297

// 角色出生时身上携带的物品
// 默认最多可以配置32个物品, 如果想扩充的话, 请修改 char.c 中 MAX_STARTITEM 的值. 
// 格式为: <物品编号>,<数量>,<装备在身上的哪个位置>:<物品编号>,<数量>,<装备在身上的哪个位置>:...
// 如果想自动穿戴某个物品的话, 那么需要配置这个物品会装备在身上的哪个位置. 
// 如果让“装备在身上的哪个位置”保持为0的话, 那么这个物品会在背包里面躺着, 不会被自动穿戴. 
// 注意: 杜兰族只有客户端版本大于等于 2015-10-01 才支持. 
start_items: 1201,1,2:2301,1,16
start_items_doram: 1681,1,2:2301,1,16

// 刚出生的角色身上会有多少Zeny
// 这个地方配置的时候请慎重, 毕竟有一些玩家可能会创建大量账号
// 然后转移里面的钱到某个主号上面, 以此达到刷钱的目的
start_zeny: 0

// 声望列表的长度设置
// 在官方默认情况下, 声望列表只会显示声望Top10的玩家
// 你可以在这里修改一下, 比如改成5, 表示显示声望Top5的玩家
// fame_list_alchemist 	是炼金声望相关选项
// fame_list_blacksmith 是铁匠声望相关选项
// fame_list_taekwon 	是跆拳声望相关选项
//
// 默认的 rAthenaCN 版本中, 这里能填写的最大值是10, 若您希望能填写更大的数值, 
// 可以到 http://rathena.cn/customize/ 对声望列表长度进行定制.
fame_list_alchemist: 10
fame_list_blacksmith: 10
fame_list_taekwon: 10

// 公会经验倍率
// 假设当公会中的成员被设置为需要上缴经验
// 然后当该成员打死怪物时, 假设需要上缴1200点经验的话, 
// 那么下面的倍率如果设置为200, 则表示虽然玩家少获得了1200点经验, 但是公会将收到2400点经验. 
// 如果设置为1000(10倍), 则表示虽然玩家少获得了1200点经验, 但是公会将收到12000点经验. 
// 下面的值100表示1倍、200表示2倍、50表示0.5倍
guild_exp_rate: 100

// 对于未知的角色, 角色名显示为什么
// 建议保持默认即可, 实际上很少碰到传说中的“未知的角色”
unknown_char_name: Unknown

// 是否记录角色服务器产生的日志
// 日志内容包括: 
//   玩家在什么时间建立了什么新角色, 名字叫什么
//   玩家在什么时候选择了哪个角色进入了游戏
//   玩家通过扩展系统的改名机制将自己的角色名称改成了什么
// 
// 日志信息默认情况下, 记录在主数据库的charlog表中
// 设置为1则表示记录日志(默认), 设置为0则表示不记录日志
log_char: 1

// 角色名称是否忽略大小写
// 若设置为no则表示严格区分大小写, Test和TEST是两个完全不同的角色
// 若设置为yes则表示忽略大小写, 若名为Test角色已被创建, 
// 那么则不能再创建另一个名为TEST的角色了. 
name_ignoring_case: no

// 设置角色名可用的字符范围. 
// 控制字符 (0x00-0x1f) 是永远被禁止使用的. 可选的值有以下几种: 
// 注意: 这个配置会影响到角色名称、队伍名称和公会名称
// 0: 无限制, 可用任何字符来命名角色、队伍、公会名称 (rAthena官方默认)
// 1: 只能使用 char_name_letters 列表中指定的字母和符号
// 2: 禁止使用 char_name_letters 列表中指定的字母和符号, 其他的符号都允许(rAthenaCN默认)
// 
// 在中文环境下, 我们不推荐使用无限制, 而是至少应该限制一些特殊字符
// 避免被居心不良的人利用. 
char_name_option: 2

// 设置您想加入到char_name_option列表中的字母或者符号. 
// 注意: 除非你想把空格也加入到列表中, 否则请不要在下面这行配置的内容中加空格. 
// 
// 为了配合 rAthenaCN 将 char_name_option 默认值改为 2 的改动, 
// 我们将 char_name_letters 的值改成了一些平时玩家不常用的特殊符号, 
// 禁止在创建角色、队伍、公会名称时使用下列这些字符
char_name_letters: \/:*?#@!

// 根据角色的基础等级, 限制玩家删除角色
// 0:  没有限制 (玩家可以删掉任何等级的角色)
// -X: 玩家不能删掉基础等级 <= X 的角色
// Y:  玩家不能删掉基础等级 >= Y 的角色
// 例如: 当 char_del_level 被设置为 80 的话, 意味着玩家不能删掉80及80级以上的角色
char_del_level: 0

// 当玩家发起角色删除请求后, 需要过多少秒才能让玩家真正的删除角色. 
// 当玩家发起角色删除请求后, 角色会坐下, 此时只有等到过了下面设定的秒数后, 
// 这个角色才能被真正的删除. 
// 默认: 86400 (等于 24 小时)
// 注意: 此选项只有客户端版本大于等于 2010-08-03aRagexeRE 才支持. 
char_del_delay: 86400

// 限制在删除角色时, 是使用邮件地址验证还是使用生日验证
// 这个选项主要用来防止玩家通过修改客户端的 langtype 来改变客户端的行为模式
// 进而使用服务端不认可的方式来删除角色.
// 
// 默认值会根据客户端版本的不同而自动调整. 
// 1: 使用邮件地址进行验证
// 2: 使用生日进行验证
// 3: 使用邮件地址或者生日都可进行验证
//
// 重要的注意事项!
// - 此选项仅在客户端发送 0x0068 或 0x01fb 的角色删除封包时有效.
// - 设置 2013 年及更新的客户端的 langtype 为 1 时, 客户端将使用 0x01fb 封包
// - 如果客户端发送的删除封包不是 0x0068 或 0x01fb, 那么默认只能使用生日来删除角色.
char_del_option: 2

// 是否限制角色在组队或者加入公会的情况下禁止删除角色
// 0: 不限制 (删除角色后会自动退出队伍和公会)
// 1: 只要角色在队伍中, 那么就禁止删除角色
// 2: 只要角色在公会中, 那么就禁止删除角色
// 3: 只要角色在队伍或公会中, 那么就禁止删除角色(默认)
char_del_restriction: 3

// DB文件放在哪个目录中(就是那个里面存放着packet_db.txt的目录)
// 您可以在此修改DB文件存放的目录名称
db_path: db

//===================================
// 鼠标密码系统(Pincode System)
//===================================
// 注意: 此选项只有客户端版本大于等于 2011-03-09aRagexeRE 才支持. 
// 此选项启用后, 当您注册账号后首次进入角色选择界面时, 
// 系统会让您设置一个用鼠标点击的数字密码. 
// 以后每次回到角色登录窗口都需要用鼠标输入密码, 以保证安全. 
// 默认值为: no (rAthena官方默认值为yes)
pincode_enabled: no

// 过多长时间就必须让玩家修改鼠标密码? 
// 0: 设置为0表示鼠标密码永久有效 (默认)
// X: 若是其他非0的数字, 则表示每过X天就提示用户修改一次鼠标密码
pincode_changetime: 0

// 连续输入几次鼠标密码错误则游戏结束? 
// 由于客户端最多只允许错误3次, 所以这里的值只能是1、2、3之间选其一
// 如果填写大于3的数字的话, 实际上还是3次
// 
// Sola丶小克: 在2015年6月24日验证了一下, 此选项对2013-08-07客户端无效
// 
// 默认值为: 3
pincode_maxtry: 3

// 是否强制玩家使用鼠标密码系统? 
// 提示: 虽然鼠标密码确实能够有效阻止窃听键盘的盗号木马,
// 但是每次返回角色选择界面时都需要输入鼠标密码也很麻烦, 
// 请各位根据自己的情况进行权衡吧.
// 默认值为: yes
pincode_force: yes

// 是否允许使用重复的同一个数字作为鼠标密码(比如0000这样重复的4个0)?
// 提示: 使用 1155 是允许的, 因为 1155 这个密码共使用了2个数字(1和5).
// 默认值为: no
pincode_allow_repeated: no

// 是否允许使用连续的数字作为鼠标密码(比如4567或9012)?
// 默认值为: no
pincode_allow_sequential: no

//===================================
// 扩展系统(Addon system)
//===================================
// 角色换位功能
// 当你启用了这个机制时, 还需要玩家的角色有换位的机会, 才能进行换位. 
// 角色的换位机会次数保存在char表的moves字段. 
// 如果您希望玩家可以无限制的移动角色, 那么请将下面的 char_moves_unlimited 设置为 yes
// 
// 注意: 此选项只有客户端版本大于等于 2011-09-28aRagexeRE 才支持. 
// 允许玩家将自己的角色移动到其他栏位中. 
// 默认值为: yes
char_move_enabled: yes

// 是否允许玩家将角色移动到一个已经被使用的栏位? 
// 如果启用的话, 那么两个角色将会交换位置. 
// 默认值为: yes
char_movetoused: yes

// 是否允许玩家不限次数的移动自己的角色? 
char_moves_unlimited: no

// 当角色在队伍中时, 是否允许修改角色名?
// 默认值为: no
char_rename_party: no

// 当角色在公会中时, 是否允许修改角色名?
// 默认值为: no
char_rename_guild: no

// 当角色服务器启动时, 是否检查数据表的内容是否正确?
char_checkdb: yes

// 当角色在一张不存在的地图登录时, 会被自动送回下面设置的默认地图和坐标. 
default_map: prontera
default_map_x: 156
default_map_y: 191

// 部落中的成员多长时间不活跃就会被自动踢出部落?
// 0: 永远不会被踢出部落
// X: 如果部落中的成员超过 X 天未登陆游戏, 就会被自动踢出部落
// 默认值为: 14
clan_remove_inactive_days: 14

//===================================
// RODEX
//===================================
// After how many days should mails be returned to their sender?
// 0: never return them
// X: return them after X days
// Default: 15
mail_return_days: 15

// How many days after a mail was returned to it's sender should it be deleted completely?
// 0: never delete them
// X: delete them X days after they were returned
// Default: 15
mail_delete_days: 15

//===================================
// rAthenaCN 拓展功能设置
//===================================
// 是否隐藏角色服务器的在线人数?
// 设置为 yes 的话, 就算玩家自己修改 msgstringtable.txt 中的内容,
// 强行在 484 行中添加 %d 参数企图显示在线人数, 也会永远返回 0 人在线.
// 默认值为: no
//
// 建议: 启用此选项之后, 最好将客户端 data/msgstringtable.txt 中
// 第 484 行附近的 " 目前在线 %d 人#" 文本信息中的 %d 去掉, 比如直接变成空: “#”
// 否则每次用户登录看到的在线人数都是 0 怪怪的.
hide_online_players_count: no

// 是否禁止创建杜兰族角色?
// 设置为 yes 的话, 创建杜兰族角色会直接失败.
// 若用 2015-10-29 之后的客户端去创建复兴前的服务器的话, 那么推荐开启此选项.
// 默认值为: no
//
// 建议: 启用此选项之后, 最好将客户端 data/msgstringtable.txt 中
// 第 12 行附近的 "创建角色失败. 可能是角色名不合法.#" 文本信息完善一下,
// 比如修改成 "创建角色失败. 可能是角色名不合法. 请注意: 本服务器禁止创建杜兰族角色!#"
//
// 感谢“好刀一把”提出增设此选项的建议.
reject_create_doram_character: no

// 当程序崩溃时, 是否生成完整的崩溃转储文件 ?
//  no: 生成迷你转储文件(体积仅有30~50kb, 但记录的信息少)
// yes: 生成完整转储文件(体积等于服务器崩溃时所占用的内存大小, 记录的信息丰富)
// 
// 为了能够在程序崩溃的时候, 让开发者能够采集到足够的信息, 从而快速定位并解决问题
// 建议在磁盘空间足够的情况下, 生成“完整转储文件”
// 
// 注意: 此文件中的开关仅控制"角色服务器"的崩溃转储文件类型
create_fulldump: yes

import: conf/import/char_conf.txt
